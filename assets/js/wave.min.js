function Wave(){function n(){if(f){var n=a.createLinearGradient(.5*d,.2*c,.5*d,c);n.addColorStop(0,"#00ccff"),n.addColorStop(1,"rgba(0,200,250,0)"),a.clearRect(0,0,d,c),a.fillStyle=n,a.beginPath(),a.moveTo(r[0].x,r[0].y);var i,e,o,t,y=r.length;for(i=0;y>i;i++)if(e=r[i],o=r[i-1],t=r[i+1],o&&t){var l=0;l+=-v*(o.y-e.y),l+=v*(e.y-t.y),l+=v/15*(e.y-e.original.y),e.velocity.y+=-(l/e.mass)+e.force.y,e.velocity.y/=h,e.force.y/=h,e.y+=e.velocity.y,a.quadraticCurveTo(o.x,o.y,o.x+(e.x-o.x)/2,o.y+(e.y-o.y)/2)}a.lineTo(r[r.length-1].x,r[r.length-1].y),a.lineTo(d,c),a.lineTo(0,c),a.lineTo(r[0].x,r[0].y),a.fill()}}function i(){f&&e(Math.random()*d,2*Math.random()*u-u)}function e(n,i){var e=r[Math.round(n/d*r.length)];e&&(e.force.y+=i)}function o(){d=window.innerWidth,c=window.innerHeight,t.width=d,t.height=c;for(var n=0;w>n;n++)r[n].x=d/(w-3)*(n-2),r[n].y=.5*c,r[n].original.x=r[n].x,r[n].original.y=r[n].y}var t,a,r,y,l,d=window.innerWidth,c=window.innerHeight,f=!0,v=.75,h=1.14,w=Math.round(d/60)+1,g=2e3,u=10;this.Initialize=function(e){if(window.onfocus=function(){f=!0},window.onblur=function(){f=!1},t=document.getElementById(e),t&&t.getContext){a=t.getContext("2d"),r=[];for(var v=0;w>v;v++){var h={x:d/(w-3)*(v-2),y:.5*c,original:{x:0,y:.5*c},velocity:{x:0,y:3*Math.random()},force:{x:0,y:0},mass:10};r.push(h)}$(window).resize(o),y=setInterval(n,40),l=setInterval(i,g),o()}}}var wave=new Wave;wave.Initialize("sea");